{\rtf1\ansi\ansicpg1252\cocoartf2512
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 AndaleMono;\f1\froman\fcharset0 Times-Roman;\f2\fswiss\fcharset0 Helvetica;
\f3\fswiss\fcharset0 Helvetica-Bold;\f4\fswiss\fcharset0 Helvetica-Oblique;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red170\green13\blue145;\red38\green71\blue75;
\red46\green13\blue110;\red0\green116\blue0;\red92\green38\blue153;\red196\green26\blue22;\red63\green110\blue116;
\red15\green104\blue160;\red11\green79\blue121;\red0\green0\blue233;\red2\green2\blue2;\red0\green0\blue233;
\red28\green0\blue207;\red162\green91\blue55;\red162\green91\blue55;}
{\*\expandedcolortbl;;\csgenericrgb\c0\c0\c0;\csgenericrgb\c66500\c5200\c56900;\csgenericrgb\c14900\c27800\c29400;
\csgenericrgb\c18100\c5200\c43100;\csgenericrgb\c0\c45600\c0;\csgenericrgb\c35900\c14900\c60100;\csgenericrgb\c77000\c10200\c8600;\csgenericrgb\c24700\c43100\c45600;
\csgenericrgb\c5882\c40784\c62745;\csgenericrgb\c4314\c30980\c47451;\cssrgb\c0\c0\c93333;\csgenericrgb\c784\c784\c784;\cssrgb\c0\c0\c93333;
\csgenericrgb\c11000\c0\c81000;\csgenericrgb\c63573\c35812\c21460\c35000;\csgenericrgb\c63573\c35812\c21460;}
\deftab816
\pard\tx816\pardeftab816\pardirnatural\partightenfactor0

\f0\fs34 \cf2 test partially completed workouts\
test today\'92s workouts\
make sure in progress workouts are still blue\
\
  \cf3 let\cf2  todays = \cf4 findTodaysWorkouts\cf2 ()\
  \cf3 if\cf2  todays.\cf5 contains\cf2 (index) \{\
      \cf6 // Highlight any workouts the user is currently performing (can be multiple if he is switching between\cf2 \
      \cf6 // something like mobility and a lifting workout).\cf2 \
      cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "in progress"\cf2 \
      \cf3 let\cf2  color = \cf7 UIColor\cf2 .\cf7 red\cf2              \cf6 // TODO: use targetColor\cf2 \
      cell.\cf7 textLabel\cf2 !.\cf4 setColor\cf2 (color)\
      cell.\cf7 detailTextLabel\cf2 !.\cf4 setColor\cf2 (color)\
\
  \} \cf3 else\cf2  \{\
      \cf6 // Otherwise highlight the first workout the user hasn't completed or the oldest completed workout.\cf2 \
      \cf3 let\cf2  selectedIndex = \cf4 findFirstMissingWorkout\cf2 () ?? \cf4 findOldestWorkout\cf2 () ?? app.\cf9 program\cf2 .\cf9 workouts\cf2 .\cf7 count\cf2 \
      \cf3 var\cf2  color = selectedIndex \cf5 ==\cf2  index \cf5 &&\cf2  todays.\cf7 isEmpty\cf2  ? \cf7 UIColor\cf2 .\cf7 red\cf2  : \cf7 UIColor\cf2 .\cf7 black\cf2 \
\
      \cf3 let\cf2  app = \cf7 UIApplication\cf2 .\cf7 shared\cf2 .\cf7 delegate\cf2  \cf3 as\cf2 ! \cf9 AppDelegate\cf2 \
      \cf3 if\cf2  \cf3 let\cf2  (date, partial, skipped) = app.\cf4 dateWorkoutWasCompleted\cf2 (workout) \{\
          \cf3 let\cf2  calendar = \cf7 Calendar\cf2 .\cf7 current\cf2 \
          \cf3 if\cf2  skipped \{\
              \cf3 if\cf2  partial \{\
                  cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "partially skipped \cf2 \\(date.\cf4 daysName\cf2 ())\cf8 "\cf2 \
              \} \cf3 else\cf2  \{\
                  cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "skipped \cf2 \\(date.\cf4 daysName\cf2 ())\cf8 "\cf2 \
              \}\
          \} \cf3 else\cf2  \cf3 if\cf2  calendar.\cf5 isDate\cf2 (date, inSameDayAs: \cf7 Date\cf2 ()) \cf5 &&\cf2  partial \{\
              cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "in progress"\cf2 \
          \} \cf3 else\cf2  \cf3 if\cf2  calendar.\cf5 isDate\cf2 (date, inSameDayAs: \cf7 Date\cf2 ()) \cf5 &&\cf2  \cf5 !\cf2 partial \{\
              cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "finished today"\cf2 \
              color = \cf7 UIColor\cf2 .\cf4 fromName\cf2 (\cf8 "darkGreen"\cf2 )!\
          \} \cf3 else\cf2  \cf3 if\cf2  partial \{\
              cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "partially completed \cf2 \\(date.\cf4 daysName\cf2 ())\cf8 "\cf2 \
          \} \cf3 else\cf2  \{\
              cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "completed \cf2 \\(date.\cf4 daysName\cf2 ())\cf8 "\cf2 \
          \}\
\
      \} \cf3 else\cf2  \{\
          cell.\cf7 detailTextLabel\cf2 !.\cf7 text\cf2  = \cf8 "not completed"\cf2 \
      \}\
\
      cell.\cf7 textLabel\cf2 !.\cf4 setColor\cf2 (color)\
      cell.\cf7 detailTextLabel\cf2 !.\cf4 setColor\cf2 (color)\
  \}\
  \
  \cf3 return\cf2  cell\
\
    \cf3 private\cf2  \cf3 func\cf2  \cf10 findOldestWorkout\cf2 () -> \cf7 Int\cf2 ? \{\
        \cf3 var\cf2  date = \cf7 Date\cf2 ()\
        \cf3 var\cf2  index: \cf7 Int\cf2 ? = \cf3 nil\cf2 \
\
        \cf3 let\cf2  app = \cf7 UIApplication\cf2 .\cf7 shared\cf2 .\cf7 delegate\cf2  \cf3 as\cf2 ! \cf9 AppDelegate\cf2 \
        \cf3 for\cf2  (i, workout) \cf3 in\cf2  app.\cf9 program\cf2 .\cf9 workouts\cf2 .\cf5 enumerated\cf2 () \{\
            \cf3 if\cf2  workout.\cf9 scheduled\cf2  \{\
                \cf3 if\cf2  \cf3 let\cf2  (candidate, \cf3 _\cf2 , \cf3 _\cf2 ) = app.\cf4 dateWorkoutWasCompleted\cf2 (workout) \{\
                    \cf3 if\cf2  candidate.\cf5 compare\cf2 (date) == .\cf5 orderedAscending\cf2  \{\
                        date = candidate\
                        index = i\
                    \}\
                \}\
            \}\
        \}\
        \cf3 return\cf2  index\
    \}\
    \
\cf3 \
\
class\cf2  \cf11 Current\cf2 : \cf7 CustomDebugStringConvertible\cf2  \{\
    \cf3 var\cf2  \cf10 date\cf2 : \cf7 Date\cf2           \cf6 // if setIndex == sets.count then this is date exercise was finished otherwise date exercise was started\cf2 \
    \cf3 var\cf2  \cf10 weight\cf2 : \cf7 Double\cf2       \cf6 // may be 0.0\cf2 \
    \cf3 var\cf2  \cf10 setIndex\cf2 : \cf7 Int\cf2        \cf6 // if this is sets.count then the user has finished those sets\cf2 \
\
\cf3 enum\cf2  \cf11 Sets\cf2 : \cf7 CustomDebugStringConvertible\cf2  \{\
    \cf3 case\cf2  \cf10 durations\cf2 ([\cf9 DurationSet\cf2 ], targetDuration: \cf7 Int\cf2 ? = \cf3 nil\cf2 )\
    \cf3 case\cf2  \cf10 maxReps\cf2 (restSecs: [\cf7 Int\cf2 ], targetReps: \cf7 Int\cf2 ? = \cf3 nil\cf2 )\
    \cf3 case\cf2  \cf10 repRanges\cf2 (warmups: [\cf9 RepsSet\cf2 ], worksets: [\cf9 RepsSet\cf2 ], backoffs: [\cf9 RepsSet\cf2 ])\
\cf3 \
class\cf2  \cf11 Modality\cf2 : \cf7 CustomDebugStringConvertible\cf2  \{\
    \cf3 var\cf2  \cf10 apparatus\cf2 : \cf9 Apparatus\cf2 \
    \cf3 var\cf2  \cf10 sets\cf2 : \cf9 Sets\cf2 \
\cf3 \
class\cf2  \cf11 Expected\cf2 : \cf7 CustomDebugStringConvertible\cf2  \{\
    \cf3 var\cf2  \cf10 weight\cf2 : \cf7 Double\cf2       \cf6 // may be 0.0\cf2 \
    \cf3 var\cf2  \cf10 reps\cf2 : \cf7 Int\cf2 ?          \cf6 // set for Sets.repsRanges, indicates where the user is within a variable reps set, can also override fixed reps\cf2 \
\cf3 \
class\cf2  \cf11 Exercise\cf2 : \cf7 Hashable\cf2 , \cf7 Identifiable\cf2  \{\
    \cf3 var\cf2  \cf10 name\cf2 : \cf7 String\cf2              \cf6 // "Heavy Bench"\cf2 \
    \cf3 var\cf2  \cf10 formalName\cf2 : \cf7 String\cf2        \cf6 // "Bench Press"\cf2 \
    \cf3 var\cf2  \cf10 modality\cf2 : \cf9 Modality\cf2 \
    \cf3 var\cf2  \cf10 expected\cf2 : \cf9 Expected\cf2 \
    \cf3 var\cf2  \cf10 current\cf2 : \cf9 Current\cf2 ? = \cf3 nil\cf2  \cf6 // this is reset to nil if it's been too long since the user was doing the exercise\cf2 \
    \cf3 let\cf2  \cf10 id\cf2 : \cf7 Int\cf2 \
\pard\pardeftab720\partightenfactor0

\f1\fs36 \cf12 \expnd0\expndtw0\kerning0
\ul \ulc12 \
\pard\pardeftab720\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://developer.apple.com/tutorials/swiftui/creating-and-combining-views"}}{\fldrslt \cf12 \ulc12 https://developer.apple.com/tutorials/swiftui/creating-and-combining-views}}\
\pard\pardeftab720\partightenfactor0

\fs24 \cf12 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\fs48 \cf13 \kerning1\expnd0\expndtw0 \ulnone Personal - user data, e.g. sex, age, and fitness\
Workouts - relatively fixed list of what the user is expected to do, includes edit notes\
History - historical data for exercises, index by formal name, include exercise name, \
	maybe also workout(s) name, probably also set info, maybe also routine name\
Expected - what the user should do\
Progression - how current should change over time, usually weight, could also auto-add exercises\
Advisor - uses personal, edit notes, history, and plan to suggest edits, weight changes, etc\
Stringify - text renderer\
\
Program = Workouts + Plan + Advisor(?)\
	could have hashtable of Exercise to Current+History, maybe also Plan and Advisor\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f3\b \cf13 Storable\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\b0 \cf13 - lot of boilerplate\
- requires var fields\
+ forward compatible\
	defaults for missing values\
	ignores unused values\
	can use logic to handle larger schema changes\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f3\b \cf13 better to use an intermediate dict<name, enum>?
\f2\b0 \cf13 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0
\cf13 \
\pard\pardeftab720\partightenfactor0
\cf13 <Application_Home>/Documents\
	backed up auto-magically by iCloud\
throw errors? see {\field{\*\fldinst{HYPERLINK "https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html"}}{\fldrslt 
\f1\fs36 \cf14 \expnd0\expndtw0\kerning0
\ul \ulc14 \outl0\strokewidth0 \strokec14 https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html}}\cf13 \
\
\'95\'a0Program view should say when last workout was\
	- can\'92t rely on current for last completed (ExerciseView will stomp on it)\
	- need some sort of history, index by formal name (see above)\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0
\cf13 \'95 Get persistence working:\
	- history\
	- current app state\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0
\cf13 \'95\'a0Get history working somehow\
\'95 Get notes button working\
\'95\'a0Get options button working\
\'95 Hard code some info\
	- age\
	- sex\
	- fitness level\
\'95\'a0Probably should support metric units early.\
	- maybe via a Weight class\
	- or maybe just rely on some sort of presentation function\
\'95 Would be nice to easily edit results of last exercise, especially for stuff like pullups.\
\'95\'a0Would be cool to hard-code some real lifting numbers into history.\
\'95\'a0Add a wizard to build an initial workout.\
\'95\'a0Just have a handful of starter programs. Or maybe just synthesize one based on a wizard?\
	- then user can edit without worrying about what is built-in or not\
\
\pard\pardeftab720\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://www.raywenderlich.com/7242045-swift-package-manager-for-ios"}}{\fldrslt 
\f1\fs36 \cf12 \expnd0\expndtw0\kerning0
\ul https://www.raywenderlich.com/7242045-swift-package-manager-for-ios}}
\f1\fs36 \cf12 \expnd0\expndtw0\kerning0
\ul \ulc12 \
\pard\pardeftab720\partightenfactor0
{\field{\*\fldinst{HYPERLINK "https://artsy.github.io/blog/2019/01/05/its-time-to-use-spm/"}}{\fldrslt 
\fs38 \cf12 \ulc12 https://artsy.github.io/blog/2019/01/05/its-time-to-use-spm/}}
\f2\fs48 \cf13 \kerning1\expnd0\expndtw0 \ulnone \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0
\cf13 	\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b \cf13 SwiftUI
\f2\b0 \
\'95\'a0when to use property wrappers: {\field{\*\fldinst{HYPERLINK "https://jaredsinclair.com/2020/05/07/swiftui-cheat-sheet.html"}}{\fldrslt 
\f1\fs34 \cf12 \expnd0\expndtw0\kerning0
\ul https://jaredsinclair.com/2020/05/07/swiftui-cheat-sheet.html}}\
\'aa property wrapper overview: {\field{\*\fldinst{HYPERLINK "https://swiftwithmajid.com/2019/06/12/understanding-property-wrappers-in-swiftui/"}}{\fldrslt 
\f1\fs36 \cf12 \expnd0\expndtw0\kerning0
\ul https://swiftwithmajid.com/2019/06/12/understanding-property-wrappers-in-swiftui/}}\
\'95 view.body can only have a single view: can use stacks for multiple groups\
\'95\'a0List works with identifiable data\
	either implement Identifiable protocol\
	or pass along with the data a key path to a property that uniquely identifies the element\
\'95\'a0List sub-views don\'92t have to be the same subtype, can explicitly add sub-views, or handle it similar to ForEach\
\'95\'a0List navigation requires\
	1) embed the List in a NavigationView\
	2) embed each row view within a NavigationLink (to setup transition to dest view when clicked)\
	    simple value type elements can use \\.self as the key path, see LanmarkList_Previews in {\field{\*\fldinst{HYPERLINK "https://developer.apple.com/tutorials/swiftui/building-lists-and-navigation"}}{\fldrslt 
\f1\fs34 \cf12 \expnd0\expndtw0\kerning0
\ul https://developer.apple.com/tutorials/swiftui/building-lists-and-navigation}}\
\'95 ForEach is like List but doesn\'92t have a special appearence\
	- can use ForEach inside List, see {\field{\*\fldinst{HYPERLINK "https://stackoverflow.com/questions/56535326/what-is-the-difference-between-list-and-foreach-in-swiftui"}}{\fldrslt 
\f1\fs34 \cf12 \expnd0\expndtw0\kerning0
\ul https://stackoverflow.com/questions/56535326/what-is-the-difference-between-list-and-foreach-in-swiftui}}\
\'95\'a0Views can wrap other views to encapsulate a series of modifiers\
	- see CircleImage in {\field{\*\fldinst{HYPERLINK "https://developer.apple.com/tutorials/swiftui/building-lists-and-navigation"}}{\fldrslt 
\f1\fs34 \cf12 \expnd0\expndtw0\kerning0
\ul https://developer.apple.com/tutorials/swiftui/building-lists-and-navigation}}\
\'95 GeometryReader is used to retrieve sizing info from parent view\
\'95 animations are kind of cool: can fade or slide in and out\
\'95 can use the @State attribute to mark fields that change over time\
	- views are structs and structs can\'92t normally change their own fields, see {\field{\*\fldinst{HYPERLINK "https://medium.com/flawless-app-stories/swiftui-understanding-state-8afa23fd9f1f"}}{\fldrslt 
\f1\fs34 \cf12 \expnd0\expndtw0\kerning0
\ul https://medium.com/flawless-app-stories/swiftui-understanding-state-8afa23fd9f1f}}\
\'95 bindings act as a reference to mutable state\
\'95 ObservableObjects are bound to a view and loaded from storage\
	- @Published attribute is used to notify UI to update\
\'95 @EnvironmentObject is used to bind to data passed downward via the environmentObject modifier\
\'95 previews are used by the Canvas inspector, can use Group to show variations\
\'95 command-click brings up the structed editing popover\
\'95 {\field{\*\fldinst{HYPERLINK "https://i.stack.imgur.com/89c8C.png"}}{\fldrslt 
\f1\fs38 \cf12 \expnd0\expndtw0\kerning0
\ul https://i.stack.imgur.com/89c8C.png}}\

\f3\b \
Goals\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\b0 \cf13 \'95\'a0Make it a lot easier to change up exercises and plans\
	- probably want to lean on wizards\
	- recommend stuff like \
		` moving on to non-linear progression\
		` adding rest\
		` more protein\
		` changing rep range\
		` being more consistent\
		` conditioning\
		` address weak point (this can be specific to some of the key exercises)\
		` technique\
		` probably want to do only one of these at a time (this could be a strong recommendation)\
		` record what the change was\
	- depends on stuff like age, sex, stalled, regressed, sleep, diet, consistency, cutting\
	- probably want to remember their level\
	- wait a month after last action and provide a new recommendation (or tell them they're doing well)\
\'95\'a0Heart rate can tell you if over trained? Can we hook into other app's medical data?\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b \cf13 \'95\'a0
\f2\b0 Do much bettered showing long term trends\
	- both overall and for an exercise\
	- include actions taken in response to a recommendation\
	- probably should also allow for user notes\
\'95\'a0May want a way to save the current iteration of a workout.\
\'95 Awards would be great.\
\'95 Don't worry about tracking cardio.\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b\fs60 \cf13 Workouts Tab
\fs48 \
Workouts     
\f2\b0 \ul \ulc13 Edit
\f3\b \ulnone \

\f2\b0 Heavy >        
\f4\i goes to a Workout view
\f2\i0 \
Light >\
Medium >\
	\

\f3\b Heavy     
\f2\b0 \ul Edit
\f3\b \ulnone \

\f2\b0 Bench >        
\f4\i goes to an Exercise view
\f2\i0 \
Squat >\
Dead >\
\

\f3\b Bench     
\f2\b0 \ul Notes
\f3\b \ulnone  
\f2\b0 \ul Edit
\f3\b \ulnone \

\f2\b0 Set 1 of 1\
8 reps @ 125 lbs\
\ul Done\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b\fs60 \cf13 \ulnone History Tab
\fs48 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\b0 \cf13 should this have a way to see exercises that are not currently used?\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b\fs60 \cf13 \
Advise Tab
\fs48 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\b0 \cf13 tell them if they are on track?\
can we make the tab red if advise is pending?\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f3\b\fs60 \cf13 \
Settings Tab
\fs48 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\b0 \cf13 DoB\
gender\
level\
\
\
\pard\tx816\pardeftab816\pardirnatural\partightenfactor0

\f0\fs34 \cf2     \
    \cf6 // Returns the currentReps and maximum used for worksets.\cf2 \
    \cf3 func\cf2  \cf10 repRange\cf2 (currentReps: \cf7 Int\cf2 ?) -> (\cf7 Int\cf2 , \cf7 Int\cf2 ) \{\
        \cf3 var\cf2  minReps = \cf15 1\cf2 \
        \cf3 var\cf2  maxReps = \cf15 1\cf2 \
        \
        \cf3 if\cf2  \cf3 let\cf2  set = \cf9 worksets\cf2 .\cf5 first\cf2 (where: \{$0.\cf9 reps\cf2 .\cf9 min\cf2  \cf5 <\cf2  $0.\cf9 reps\cf2 .\cf9 max\cf2 \}) \{\
            \cf3 if\cf2  \cf3 let\cf2  current = currentReps \{            \cf6 // currentReps only applies if set.minReps < set.maxReps\cf2 \
                minReps = current\
                maxReps = current \cf5 <\cf2  set.\cf9 reps\cf2 .\cf9 max\cf2  ? set.\cf9 reps\cf2 .\cf9 max\cf2  : current\
            \} \cf3 else\cf2  \{\
                minReps = set.\cf9 reps\cf2 .\cf9 min\cf2 \
                maxReps = set.\cf9 reps\cf2 .\cf9 max\cf2 \
            \}\
\
        \} \cf3 else\cf2  \cf3 if\cf2  \cf3 let\cf2  last = \cf9 worksets\cf2 .\cf7 last\cf2  \{\
            minReps = last.\cf9 reps\cf2 .\cf9 min\cf2 \
            maxReps = last.\cf9 reps\cf2 .\cf9 max\cf2 \
        \}\
        \
        \cf3 return\cf2  (minReps, maxReps)\
    \}\
    \
    \cf16 ///\cf2  \cf17 Returns details about what the user is expected to do for the sets. For example,\cf2 \
    \cf16 ///\cf2     \cf17 3x5 @ 195 lbs     if reps are all the same\cf2 \
    \cf16 ///\cf2     \cf17 5,3,1+ @ 195 lbs  if percentages are all the same\cf2 \
    \cf16 ///\cf2     \cf17 1+ @ 195 lbs      otherwise\cf2 \
    \cf3 func\cf2  \cf10 summary\cf2 (\cf3 _\cf2  apparatus: \cf9 Apparatus\cf2 ?, \cf3 _\cf2  targetWeight: \cf7 Double\cf2 , \cf3 _\cf2  currentReps: \cf7 Int\cf2 ?) -> \cf7 String\cf2  \{ \cf6 // TODO: not sure presentation stuff belongs here\cf2 \
        \cf3 func\cf2  \cf10 repsStr\cf2 (\cf3 _\cf2  set: \cf9 Set\cf2 ) -> \cf7 String\cf2  \{\
            \cf3 if\cf2  \cf3 let\cf2  current = currentReps \{\
                \cf3 if\cf2  current \cf5 <\cf2  set.\cf9 reps\cf2 .\cf9 max\cf2  \{\
                    \cf3 return\cf2  \cf8 "\cf2 \\(current)\cf8 -\cf2 \\(set.\cf9 reps\cf2 .\cf9 max\cf2 )\cf8 "\cf2 \
                \} \cf3 else\cf2  \{\
                    \cf3 return\cf2  \cf8 "\cf2 \\(current)\cf8 "\cf2 \
                \}\
            \} \cf3 else\cf2  \{\
                \cf3 return\cf2  \cf8 "\cf2 \\(set.\cf9 reps\cf2 .\cf9 max\cf2 )\cf8 "\cf2 \
            \}\
        \}\
        \
        \cf3 func\cf2  \cf10 weightStr\cf2 (\cf3 _\cf2  set: \cf9 Set\cf2 ) -> \cf7 String\cf2  \{\
            \cf3 var\cf2  weight = \cf8 ""\cf2 \
            \cf3 if\cf2  targetWeight > \cf15 0.0\cf2  \{\
                \cf3 let\cf2  suffix = set.\cf9 percent\cf2 .\cf9 label\cf2 \
                \cf3 if\cf2  \cf3 let\cf2  apparatus = apparatus \{\
                    weight = \cf8 " @ "\cf2  \cf5 +\cf2  apparatus.\cf4 findClosest\cf2 (targetWeight\cf4 *\cf2 set.\cf9 percent\cf2 ).\cf9 label\cf2  \cf5 +\cf2  suffix\
                \} \cf3 else\cf2  \{\
                    weight = \cf8 " @ "\cf2  \cf5 +\cf2  \cf4 friendlyUnitsStr\cf2 (targetWeight\cf4 *\cf2 set.\cf9 percent\cf2 ) \cf5 +\cf2  suffix\
                \}\
            \}\
            \cf3 return\cf2  weight\
        \}\
        \
        \cf3 if\cf2  \cf3 let\cf2  first = \cf9 worksets\cf2 .\cf7 first\cf2  \{\
            \cf3 let\cf2  sameReps = \cf9 worksets\cf2 .\cf4 all\cf2  \{$0.\cf9 reps\cf2 .\cf9 min\cf2  \cf5 ==\cf2  first.\cf9 reps\cf2 .\cf9 min\cf2  \cf5 &&\cf2  $0.\cf9 reps\cf2 .\cf9 max\cf2  \cf5 ==\cf2  first.\cf9 reps\cf2 .\cf9 max\cf2 \}\
            \cf3 let\cf2  samePercents = \cf9 worksets\cf2 .\cf4 all\cf2  \{$0.\cf9 percent\cf2 .\cf9 label\cf2  \cf5 ==\cf2  first.\cf9 percent\cf2 .\cf9 label\cf2 \}\
            \
            \cf3 if\cf2  sameReps \cf5 &&\cf2  samePercents \{\
                \cf3 return\cf2  \cf8 "\cf2 \\(\cf9 worksets\cf2 .\cf7 count\cf2 )\cf8 x\cf2 \\(\cf4 repsStr\cf2 (first))\\(\cf4 weightStr\cf2 (first))\cf8 "\cf2 \
\
            \} \cf3 else\cf2  \cf3 if\cf2  samePercents \{\
                \cf3 let\cf2  labels = \cf9 worksets\cf2 .\cf5 map\cf2  \{\cf4 repsStr\cf2 ($0)\}\
                \cf3 let\cf2  label = labels.\cf5 joined\cf2 (separator: \cf8 ","\cf2 )\
                \cf3 return\cf2  \cf8 "\cf2 \\(label)\\(\cf4 weightStr\cf2 (first))\cf8 "\cf2 \
            \
            \} \cf3 else\cf2  \cf3 if\cf2  \cf3 let\cf2  last = \cf9 worksets\cf2 .\cf7 last\cf2  \{\
                \cf3 return\cf2  \cf8 "\cf2 \\(\cf4 repsStr\cf2 (last))\\(\cf4 weightStr\cf2 (last))\cf8 "\cf2 \
            \}\
        \}\
        \cf3 return\cf2  \cf8 ""\cf2 \
    \}\
\
\pard\pardeftab720\partightenfactor0
\cf3 fileprivate\cf2  \cf3 func\cf2  \cf10 phash\cf2 () -> \cf7 Int\cf2  \{\
\pard\tx816\pardeftab816\pardirnatural\partightenfactor0
\cf2     \cf3 return\cf2  \cf3 self\cf2 .apparatus.phash() &+ \cf3 self\cf2 .restSecs.hashValue &+ \cf3 self\cf2 .sets.phash()\
\}\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardeftab816\pardirnatural\partightenfactor0

\f2\fs48 \cf13 \
}